<!DOCTYPE html>
<html lang="zh-ch">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.zhimg.com/vue@2.6.11"></script>
    <link rel="stylesheet" href="https://unpkg.zhimg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.zhimg.com/element-ui/lib/index.js"></script>
    <!-- <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"> -->
    <!-- <script src="https://unpkg.com/element-ui/lib/index.js"></script> -->
    <style>
        [v-cloak] {
            display: none;
        }

        .Yewu .el-textarea {
            position: relative;
            font-size: 14px;
            display: inline-block;
            width: 45%
        }

        .Yewu .el-textarea textarea {
            resize: none;
        }

        #app .isnew {
            display: inline;
        }

        #app .setinput {
            position: relative;
            font-size: 14px;
            display: inline-block;
            width: 40%;
        }

        .el-checkbox-group {
            display: inline-block;
            margin-left: 10px;
        }

        .el-checkbox-group .el-checkbox {
            margin-right: 15px;
        }

        .el-checkbox-group .el-checkbox .el-checkbox__label {
            display: inline-block;
            padding-left: 3px;
            line-height: 19px;
            font-size: 16px;
        }

        .content {
            margin: 10px 0px;
            padding: 10px;
            background: #2ec15b;
        }

        .content * {
            margin: 0;
            padding: 0;
        }

        ul,
        li {
            list-style: none;
        }

        .content p {
            height: 18px;
            line-height: 18px;
            background: #2ec15b;
            font-size: 13px;
        }

        .content .one {
            text-indent: 1em;
        }

        .content .two {
            text-indent: 2em;
        }

        .content .three {
            text-indent: 3em;
        }

        #app .el-checkbox__input.is-checked+.el-checkbox__label {
            color: #ff4063;
        }

        #app .el-checkbox__input.is-checked .el-checkbox__inner,
        #app .el-checkbox__input.is-indeterminate .el-checkbox__inner {
            background-color: #ff4063;
            border-color: #ff4063;
        }

        /* .content1 p,
        .content2 p,
        .content3 p {
            padding: 3px 10px;
        } */

        .content span {
            display: block;
            height: 18px;
            line-height: 18px;
            background: #2ec15b;
            font-size: 13px;
            padding: 2px;
        }

        .red {
            color: #ff0;
        }
    </style>
</head>

<body>
    <div id="app" v-cloak>
        <el-button type="success" :plain="ischange!=1" @click="ischange=1" focus>6180H</el-button>
        <el-button type="success" :plain="ischange!=2" @click="ischange=2">6700</el-button>
        <el-button type="success" :plain="ischange!=3" @click="ischange=3">6180升级</el-button>
        <el-button type="success" :plain="ischange!=4" @click="ischange=4">子接口配置</el-button>
        <div v-if="ischange==1">
            <p>
                <el-button type="primary" @click="clearSelect(2)">OIXG2A</el-button>
                <el-select v-model="val2X" multiple placeholder="请选择槽位" @focus="getslot">
                    <el-option v-for="item in slotnumber" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
                <el-checkbox-group>
                    <el-checkbox v-for="port in port2X" :label="port" :key="port" disabled>{{port | show_port}}
                    </el-checkbox>
                </el-checkbox-group>
            </p>
            <p>
                <el-button type="primary" @click="clearSelect(4)">OIXG4A</el-button>
                <el-select v-model="val4X" multiple placeholder="请选择槽位" @focus="getslot">
                    <el-option v-for="item in slotnumber" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
                <el-checkbox-group>
                    <el-checkbox v-for="port in port4X" :label="port" :key="port" disabled>{{port | show_port}}
                    </el-checkbox>
                </el-checkbox-group>
            </p>
            <p>
                <el-button type="primary" @click="clearSelect(10)">OIXGXA</el-button>
                <el-select v-model="val10X" multiple placeholder="请选择槽位" @focus="getslot(10)">
                    <el-option v-for="item in slotnumber" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>    
                <el-checkbox-group>
                    <el-checkbox v-for="port in port10X" :label="port" :key="port" disabled>{{port | show_port}}
                    </el-checkbox>
                </el-checkbox-group>
            </p>
            <p>
                <el-button type="primary" @click="clearSelect(8)">OIGE8A</el-button>
                <el-select v-model="val8G" multiple placeholder="请选择槽位" @focus="getslot">
                    <el-option v-for="item in slotnumber" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
                <el-checkbox-group>
                    <el-checkbox v-for="port in port8G" :label="port" :key="port" disabled>{{port | show_port}}
                    </el-checkbox>
                </el-checkbox-group>
            </p>
            <el-switch v-model="isReset" active-color="#13ce66" inactive-color="#ff4949" active-text="默认配置"
                @change="reset">
            </el-switch>
            <el-switch v-model="is50G" active-color="#13ce66" inactive-color="#ff4949" active-text="是否50G环"
                @change="creat()">
            </el-switch>
            <el-switch v-model="isnew" active-color="#13ce66" inactive-color="#ff4949" active-text="是否已构建"
                @change="creat()" v-show="is50G">
            </el-switch>
            <div v-show="isnew" class="isnew">
                <span style="margin-left:20px">group1</span>
                <el-input-number v-model="group1" :min="1" size="small"></el-input-number>
                <span style="margin-left:20px">group2</span>
                <el-input-number v-model="group2" :min="1" size="small"></el-input-number>
            </div>
            <el-switch v-model="isaddslot" active-color="#13ce66" inactive-color="#ff4949" active-text="是否扩板卡"
                @change="creat()" v-show="!is50G">
            </el-switch>
            <span style="margin-left:20px" v-show="isaddslot">portnum</span>
            <el-input-number v-model="portnum" :min="2" size="small" v-show="isaddslot"></el-input-number>
            <el-button type="success" @click="creat">脚本生成</el-button>
            <div style="position: relative">
                <el-button type="danger" @click="selectText('.content')" v-show="allPort.length"
                    style="position: absolute; right: 40%;">一键复制</el-button>
                <div class="content" v-show="allPort.length">
                    <span>conf terminal</span>
                    <div v-if="!isaddslot">
                        <span>line netconf absolute-timeout 0</span>
                        <span>clock timezone Beijing 8</span>
                        <!-- <span>ptp-time-check enable</span> -->
                        <!-- <span>dhcp</span>
                        <span class="one">enable</span>
                        <span class="one">ramble</span>
                        <span>$</span>
                        <span>ip dhcp relay server group 1</span>
                        <span class="one">algorithm forward-all</span>
                        <span class="one">max-timeout 0</span>
                        <span class="one">server 1 10.224.207.230</span>
                        <span class="one">server 2 10.224.207.137</span>
                        <span class="one">server 3 10.223.182.2</span>
                        <span class="one">server 4 10.224.130.8</span>
                        <span class="one">server 5 10.224.130.76</span>
                        <span class="one">server 6 10.224.21.7</span>
                        <span class="one">server 7 10.224.22.7</span>
                        <span class="one">server 8 10.224.172.26</span>
                        <span class="one">server 9 10.224.172.27</span>
                        <span class="one">server 10 10.224.207.37</span>
                        <span class="one">server 11 10.224.207.50</span>
                        <span class="one">server 12 10.224.209.5</span>
                        <span class="one">server 13 10.224.209.157</span>
                        <span class="one">server 14 10.224.207.19</span>
                        <span class="one">server 15 10.224.207.130</span>
                        <span class="one">server 16 10.224.207.194</span>
                        <span class="one">server 17 10.224.21.135</span>
                        <span>$</span> -->
                        <div v-show="is50G && isnew || !is50G">
                            <span>ssm</span>
                            <span class="one">usessm</span>
                            <span class="one">ssm-mode exp-ssm</span>
                            <span class="one">id-protect</span>
                            <span class="one">lock-bits-send-dnu enable</span>
                            <div v-if="is50G">
                                <span class="one">synchronization-clock line flexe_group{{group1}}</span>
                                <span class="one">synchronization-clock line flexe_group{{group2}}</span>
                                <span class="one">priority line flexe_group{{group1}} 1</span>
                                <span class="one">priority line flexe_group{{group2}} 2</span>
                            </div>
                            <div v-else>
                                <span class="one">synchronization-clock line xgei-1/1/0/1</span>
                                <span class="one">synchronization-clock line xgei-1/7/0/1</span>
                                <span class="one">priority line xgei-1/1/0/1 1</span>
                                <span class="one">priority line xgei-1/7/0/1 2</span>
                            </div>
                            <span>$</span>
                        </div>
                    </div>
                    <ul>
                        <span>ptp</span>
                        <li v-show="!isaddslot">
                            <span class="one">domain 24</span>
                            <span class="one">state-algorithm bmc</span>
                        </li>
                        <span class="one">free-mode</span>
                        <li v-show="!isaddslot">
                            <div v-show="is50G && isnew || !is50G">
                                <span class="two" v-if="!is50G">port interface xgei-1/1/0/1 portnum 2</span>
                                <span class="two" v-else>port interface flexe_group{{group1}} portnum 2</span>
                                <span class="three">enable</span>
                                <span class="three" v-if="is50G">two-step enable</span>
                                <!-- <span class="three">packet-statistic enable</span> -->
                                <span class="two">$</span>
                                <span class="two" v-if="!is50G">port interface xgei-1/7/0/1 portnum 3</span>
                                <span class="two" v-else>port interface flexe_group{{group2}} portnum 3</span>
                                <span class="three">enable</span>
                                <span class="three" v-if="is50G">two-step enable</span>
                                <!-- <span class="three">packet-statistic enable</span> -->
                                <span class="two">$</span>
                            </div>
                        </li>
                        <li v-for="(v,i) in allPort" :key="i">
                            <span class="two">port interface {{v}} portnum {{portnum+i}}</span>
                            <span class="three">enable</span>
                            <span class="three">manual-port-state master</span>
                            <span class="two">$</span>
                        </li>
                        <li>
                            <span class="one">$</span>
                            <span>$</span>
                        </li>
                    </ul>
                    <ul>
                        <li v-show="!isaddslot">
                            <span v-if="!is50G">interface xgei-1/1/0/1</span>
                            <span v-else>interface lgei-1/5/0/1</span>
                            <span class="one">ptp enable</span>
                            <span class="one">ptp accuracy-mode normal</span>
                            <span class="one">ptp pdelay-req-interval -4</span>
                            <span class="one">ptp unsymmetrical-offset 0 negative</span>
                            <span>$</span>
                            <span v-if="!is50G">interface xgei-1/7/0/1</span>
                            <span v-else>interface lgei-1/9/0/1</span>
                            <span class="one">ptp enable</span>
                            <span class="one">ptp accuracy-mode normal</span>
                            <span class="one">ptp pdelay-req-interval -4</span>
                            <span class="one">ptp unsymmetrical-offset 0 negative</span>
                            <span>$</span>
                        </li>
                        <li v-for="v in allPort" :key="v">
                            <span>interface {{v}}</span>
                            <span class="one">ptp enable</span>
                            <span class="one">ptp accuracy-mode normal</span>
                            <span class="one">ptp pdelay-req-interval -4</span>
                            <span class="one">ptp unsymmetrical-offset 0 negative</span>
                            <span>$</span>
                        </li>
                        <li v-for="(v,i) in allPort" :key="i">
                            <span>alarm preload-mode interface {{v}} autorecover</span>
                        </li>
                        <span>end</span>
                        <span>write</span>
                        <p style="height: 1px"> </p>
                    </ul>
                </div>
            </div>
        </div>
        <div v-if="ischange==2">
            <div style="margin-top: 10px">
                <el-cascader :options="options2" clearable :show-all-levels="false" v-model="portval"></el-cascader>
                <div style="display: inline-block" v-show="portval[0]=='lgei'">
                    <span style="margin-left:20px">group</span>
                    <el-input-number v-model="group3" :min="3"></el-input-number>
                </div>
                <div style="display: inline-block" v-show="portval.length">
                    <span style="margin-left:20px">portnum</span>
                    <el-input-number v-model="portnum1" :min="3"></el-input-number>
                </div>
                <div v-show="portval.length">
                    <el-button type="danger" @click="selectText('.content')" v-show="portval.length"
                        style="position: absolute; right: 45%; padding: auto;">一键复制</el-button>
                    <div class="content">
                        <span>configure terminal</span>
                        <span>ptp</span>
                        <span class="one" v-if="portval[0]=='xgei'">port interface {{portval[2]}} portnum
                            {{portnum1}}</span>
                        <span class="one" v-else>port interface flexe_group{{group3}} portnum {{portnum1}}</span>
                        <span class="two">enable</span>
                        <!-- <span class="two">packet-statistic enable</span> -->
                        <span class="two">manual-port-state master</span>
                        <span class="two">pdelay-req-interval 0</span>
                        <span class="two" v-show="portval[0]=='lgei'">two-step enable</span>
                        <span class="two">send-protocol-mode standard</span>
                        <span class="two">$</span>
                        <span class="one">$</span>
                        <span>$</span>
                        <span>interface {{portval[2]}}</span>
                        <span class="one">ptp enable</span>
                        <span class="one">ptp accuracy-mode normal</span>
                        <span class="one">ptp pdelay-req-interval -4</span>
                        <span class="one">ptp unsymmetrical-offset 0 negative</span>
                        <span>$</span>
                        <span>end</span>
                        <span>write</span>
                        <p style="height: 1px"> </p>
                    </div>
                </div>
            </div>
        </div>
        <div v-if="ischange==3" style="background:none;">
            <ul style="padding: 0;">
                <h3>上传版本</h3>
                <li style="position: relative ; padding: 0;">
                    <el-button type="danger" @click="selectText('.content1')"
                        style="position: absolute; right: 45%; padding: auto;">一键复制</el-button>
                    <div class="content1 content">
                        <span>configure terminal</span>
                        <span>pmconfig</span>
                        <!-- <span></span> -->
                        <span>install add vrf dcn ftp
                            //upg:Upg123_1@134.80.140.138/IPData/neupgrade/EPLD_V5.00.10B46.pkg</span>
                        <span>install add vrf dcn ftp
                            //upg:Upg123_1@134.80.140.1389/IPData/neupgrade/BOOT_V5.00.10B34.pkg</span>
                        <span>install add vrf dcn ftp
                            //upg:Upg123_1@134.80.140.1389/IPData/neupgrade/ZXCTN6180H_V5.00.10P03B10.set</span>
                        <p style="height: 1px"> </p>
                    </div>
                </li>
                <h3>激活版本</h3>
                <li style="position: relative ; padding: 0; margin-top: 20px;">
                    <el-button type="danger" @click="selectText('.content2')"
                        style="position: absolute; right: 45%; padding: auto;">一键复制</el-button>
                    <div class="content2 content">
                        <span>install activate EPLD_V5.00.10B46.pkg</span>
                        <span>install activate BOOT_V5.00.10B34.pkg</span>
                        <span>load epld-firmware all</span>
                        <span>yes</span>
                        <span>load boot-firmware all</span>
                        <span>yes</span>
                        <span>do write</span>
                        <span>install activate ZXCTN6180H_V5.00.10P03B10.set parallel-reload</span>
                        <span>yes</span>
                        <p style="height: 1px"> </p>
                    </div>
                </li>
                <h3>固化版本</h3>
                <li style="position: relative ; padding: 0; margin-top: 20px;">
                    <el-button type="danger" @click="selectText('.content3')"
                        style="position: absolute; right: 45%; padding: auto;">一键复制</el-button>
                    <div class="content3 content">
                        <span>en</span>
                        <span>zxr10</span>
                        <span>configure terminal</span>
                        <span>pmconfig</span>
                        <span>install commit</span>
                        <span>show load-mode</span>
                        <span>end</span>
                        <span>write</span>
                        <p style="height: 1px"> </p>
                    </div>
                </li>
                <h3>B80补丁</h3>
                <el-button type="primary" @click="clearSelect(0)">复位槽位</el-button>
                <el-select v-model="reload" multiple placeholder="请选择槽位" @focus="getslot" style="width: 400px;">
                    <el-option v-for="item in slotnumber" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
                <li style="position: relative ; padding: 0; margin-top: 20px;">
                    <el-button type="danger" @click="selectText('.content4')"
                        style="position: absolute; right: 45%; padding: auto;">一键复制</el-button>
                    <div class="content4 content">
                        <span>conf terminal</span>
                        <span>dhcp</span>
                        <span class="one">enable</span>
                        <span class="one">ramble</span>
                        <span>$</span>
                        <span>ip dhcp relay server group 1</span>
                        <span class="one">algorithm forward-all</span>
                        <span class="one">max-timeout 0</span>
                        <span class="one">server 1 10.224.207.230</span>
                        <span class="one">server 2 10.224.207.137</span>
                        <span class="one">server 3 10.223.182.2</span>
                        <span class="one">server 4 10.224.130.8</span>
                        <span class="one">server 5 10.224.130.76</span>
                        <span class="one">server 6 10.224.21.7</span>
                        <span class="one">server 7 10.224.22.7</span>
                        <span class="one">server 8 10.224.172.26</span>
                        <span class="one">server 9 10.224.172.27</span>
                        <span class="one">server 10 10.224.207.37</span>
                        <span class="one">server 11 10.224.207.50</span>
                        <span class="one">server 12 10.224.209.5</span>
                        <span class="one">server 13 10.224.209.157</span>
                        <span class="one">server 14 10.224.207.19</span>
                        <span class="one">server 15 10.224.207.130</span>
                        <span class="one">server 16 10.224.207.194</span>
                        <span class="one">server 17 10.224.21.135</span>
                        <span>$</span>
                        <span>pmconfig</span>
                        <span class="one">install add vrf dcn ftp
                            //upg:Upg123_1@172.29.16.129/IPData/neupgrade/ZXCTN_6180H/ZXCTN61V5.00.10B80HP24.set</span>
                        <span class="one">install add vrf dcn ftp
                            //upg:Upg123_1@172.29.16.129/IPData/neupgrade/ZXCTN_6180H/ZXCTN61V5.00.10B80SP002_HOT.set</span>
                        <span class="one">install add vrf dcn ftp
                            //upg:Upg123_1@172.29.16.129/IPData/neupgrade/ZXCTN_6180H/ZXCTN61V5.00.10B80CP02.set </span>
                        <span class="one">install activate ZXCTN61V5.00.10B80SP002_HOT.set</span>
                        <span class="one">install commit</span>
                        <span class="one">install activate ZXCTN61V5.00.10B80HP24.set</span>
                        <span class="one">install commit</span>
                        <span class="one">install activate ZXCTN61V5.00.10B80CP02.set</span>
                        <span class="one">install commit</span>
                        <span>end</span>
                        <div v-for="Num in reload">
                            <span>reload slot {{Num}} soft</span>
                            <span>yes</span>
                        </div>
                        <span>show install info</span>
                        <span>show processor</span>
                        <p style="height: 1px"> </p>
                    </div>
                </li>
            </ul>
        </div>
        <div v-if="ischange==4" class="Yewu" style="margin-top: 10px">
            <el-input type="textarea" :rows="row" placeholder="请输入业务信息" v-model="YeWuInfo">
            </el-input>
            <el-button type="danger" @click="resetYeWuInfo()">重新输入</el-button>
            <div style="display: inline-block" v-if="WangYuan && WangYuan[0].port">
                <div v-if="WangYuan[0].YeType =='5G'">
                    <span style="margin-left: 30px">VLAN：</span>
                    <el-switch v-model="setVlan" active-color="#13ce66" inactive-color="#ff4949" active-text="100"
                        inactive-text="90" active-value="100" inactive-value="90" @change="changeVlan(setVlan)">
                    </el-switch>
                </div>
                <div v-else>
                    <span>端口：</span>
                    <el-switch v-model="PortType" active-color="#13ce66" inactive-color="#ff4949" active-text="10G"
                        inactive-text="GE" active-value="xgei" inactive-value="gei">
                    </el-switch>
                    <span style="margin-left: 30px">掩码：</span>
                    <el-switch v-model="mask" active-color="#13ce66" inactive-color="#ff4949" active-text="30位"
                        inactive-text="29位" active-value="252" inactive-value="248">
                    </el-switch>
                </div>
            </div>
            <div style="display: flex; margin-top: 10px;">
                <div v-if="WangYuan && WangYuan[0].port" style="flex: 1; position: relative">
                    <el-button type="danger" @click="selectText('.content4')" v-show="WangYuan"
                        style="position: absolute; right: 30%; top:10px">一键复制</el-button>
                    <div class="content content4" style="margin: 0">
                        <div v-for="(info,idx) in WangYuan" :key=idx>
                            <p style="height: 1px; background-color: #ff0;" v-if="idx != 0"> </p>
                            <span>conf t</span>
                            <span>interface {{PortType}}{{info.port}}.{{info.vlan1}}</span>
                            <span class="one">ip address {{info.ipv4_1}} 255.255.255.{{mask}}</span>
                            <div v-if="info.YeType=='5G'">
                                <span class="one">ipv6 enable</span>
                                <span class="one">ipv6 address {{info.ipv6}}/127</span>
                            </div>
                            <span>$</span>
                            <div v-if="info.YeType=='4G'">
                                <span>interface {{PortType}}{{info.port}}.{{info.vlan2}}</span>
                                <span class="one">ip address {{info.ipv4_2}} 255.255.255.{{mask}}</span>
                                <span>$</span>
                            </div>
                            <span>vlan-configuration</span>
                            <span class="one">interface {{PortType}}{{info.port}}.{{info.vlan1}}</span>
                            <span class="two">encapsulation-dot1q {{info.vlan1}}</span>
                            <span class="one">$</span>
                            <div v-if="info.YeType=='4G'">
                                <span class="one">interface {{PortType}}{{info.port}}.{{info.vlan2}}</span>
                                <span class="two">encapsulation-dot1q {{info.vlan2}}</span>
                                <span class="one">$</span>
                            </div>
                            <span>$</span>
                            <span>dhcp</span>
                            <span>enable</span>
                            <span class="one" v-if="info.YeType=='4G'">interface
                                {{PortType}}{{info.port}}.{{info.vlan2}}</span>
                            <span class="one" v-else>interface {{PortType}}{{info.port}}.{{info.vlan1}}</span>
                            <span class="two">mode relay</span>
                            <span class="two">relay server group 1</span>
                            <span class="two" v-if="info.YeType=='4G'">relay agent {{info.ipv4_2}}</span>
                            <span class="two" v-else>relay agent {{info.ipv4_1}}</span>
                            <span class="one">$</span>
                            <span>$</span>
                            <span>arp</span>
                            <span class="one">interface {{PortType}}{{info.port}}.{{info.vlan1}}</span>
                            <span class="two">timeout 600</span>
                            <span class="one">$</span>
                            <div v-if="info.YeType=='4G'">
                                <span class="one">interface {{PortType}}{{info.port}}.{{info.vlan2}}</span>
                                <span class="two">timeout 600</span>
                                <span class="one">$</span>
                            </div>
                            <span>$</span>
                            <span>port-service-queue-monitor {{PortType}}{{info.port}}.{{info.vlan1}} disable</span>
                            <span v-if="info.YeType=='4G'">port-service-queue-monitor
                                {{PortType}}{{info.port}}.{{info.vlan2}} disable</span>
                            <span>end</span>
                        </div>
                        <span>write</span>
                        <p style="height: 1px"> </p>

                    </div>
                </div>
                <div style="flex: none">&nbsp;&nbsp;</div>
                <div v-if="WangYuan" style="flex: 1; position: relative; background: #2ec15b">
                    <el-button type="danger" @click="selectText('.content5')" v-show="WangYuan"
                        style="position: absolute; right: 30%; top:10px">一键复制</el-button>
                    <div class="content content5" style="margin-top: 0">
                        <div v-for="(info,idx) in WangYuan" :key=idx>
                            <br v-if="idx != 0">
                            <br v-if="idx != 0">
                            <div v-if="info.YeType!='2G'">
                                <span>ping vrf 5G 100.71.127.64 source {{info.ipv4_1}}</span>
                                <span>ping vrf 5G 100.117.192.140 source {{info.ipv4_1}}</span>
                                <span>ping vrf 5G 10.223.182.2 source <em style="font-style: normal"
                                        v-if="info.YeType=='5G'">{{info.ipv4_1}}</em><em style="font-style: normal"
                                        v-else>{{info.ipv4_2}}</em></span>
                                <span>ping vrf 5G 10.224.207.130 source <em style="font-style: normal"
                                        v-if="info.YeType=='5G'">{{info.ipv4_1}}</em><em style="font-style: normal"
                                        v-else>{{info.ipv4_2}}</em></span>
                                <p style="height: 6px"> </p>
                                <span style="color: #ff0">ping vrf 5G {{info.ipv4_jiZhan1}} source
                                    {{info.ipv4_1}}</span>
                                <span v-if="info.YeType=='4G'" style="color: #ff0">ping vrf 5G {{info.ipv4_jiZhan2}}
                                    source
                                    {{info.ipv4_2}}</span>
                            </div>
                            <div v-else>
                                <span>ping vrf 2G 100.81.0.2 source {{info.ipv4_1}}</span>
                                <span>ping vrf 2G 100.81.1.64 source {{info.ipv4_1}}</span>
                                <p style="height: 6px"> </p>
                                <span style="color: #ff0">ping vrf 2G {{info.ipv4_jiZhan1}} source
                                    {{info.ipv4_1}}</span>
                            </div>
                        </div>
                        <p style="height: 1px"> </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    const app = new Vue({
        el: '#app',
        data: {
            options: [
                {
                    value: 1,
                    label: "1槽"
                },
                {
                    value: 2,
                    label: "2槽"
                },
                {
                    value: 5,
                    label: "5槽"
                },
                {
                    value: 6,
                    label: "6槽"
                },
                {
                    value: 7,
                    label: "7槽"
                },
                {
                    value: 8,
                    label: "8槽"
                },
                {
                    value: 9,
                    label: "9槽"
                },
                {
                    value: 10,
                    label: "10槽"
                }
            ],
            options2: [{
                value: 'xgei',
                label: '10G',
                children: [{
                    value: 1,
                    label: '1槽位',
                    children: [{
                        value: 'xgei-1/1/0/1',
                        label: 'xgei-1/1/0/1'
                    }, {
                        value: 'xgei-1/1/0/2',
                        label: 'xgei-1/1/0/2'
                    }, {
                        value: 'xgei-1/1/0/3',
                        label: 'xgei-1/1/0/3'
                    }, {
                        value: 'xgei-1/1/0/4',
                        label: 'xgei-1/1/0/4'
                    }, {
                        value: 'xgei-1/1/0/5',
                        label: 'xgei-1/1/0/5'
                    }, {
                        value: 'xgei-1/1/0/6',
                        label: 'xgei-1/1/0/6'
                    }, {
                        value: 'xgei-1/1/0/7',
                        label: 'xgei-1/1/0/7'
                    }, {
                        value: 'xgei-1/1/0/8',
                        label: 'xgei-1/1/0/8'
                    }, {
                        value: 'xgei-1/1/0/9',
                        label: 'xgei-1/1/0/9'
                    }, {
                        value: 'xgei-1/1/0/10',
                        label: 'xgei-1/1/0/10'
                    }, {
                        value: 'xgei-1/1/0/11',
                        label: 'xgei-1/1/0/11'
                    }, {
                        value: 'xgei-1/1/0/12',
                        label: 'xgei-1/1/0/12'
                    }]
                }, {
                    value: 11,
                    label: '11槽位',
                    children: [{
                        value: 'xgei-1/11/0/1',
                        label: 'xgei-1/11/0/1'
                    }, {
                        value: 'xgei-1/11/0/2',
                        label: 'xgei-1/11/0/2'
                    }, {
                        value: 'xgei-1/11/0/3',
                        label: 'xgei-1/11/0/3'
                    }, {
                        value: 'xgei-1/11/0/4',
                        label: 'xgei-1/11/0/4'
                    }, {
                        value: 'xgei-1/11/0/5',
                        label: 'xgei-1/11/0/5'
                    }, {
                        value: 'xgei-1/11/0/6',
                        label: 'xgei-1/11/0/6'
                    }, {
                        value: 'xgei-1/11/0/7',
                        label: 'xgei-1/11/0/7'
                    }, {
                        value: 'xgei-1/11/0/8',
                        label: 'xgei-1/11/0/8'
                    }, {
                        value: 'xgei-1/11/0/9',
                        label: 'xgei-1/11/0/9'
                    }, {
                        value: 'xgei-1/11/0/10',
                        label: 'xgei-1/11/0/10'
                    }, {
                        value: 'xgei-1/11/0/11',
                        label: 'xgei-1/11/0/11'
                    }, {
                        value: 'xgei-1/11/0/12',
                        label: 'xgei-1/11/0/12'
                    }]
                }, {
                    value: 13,
                    label: '13槽位',
                    children: [{
                        value: 'xgei-1/13/0/1',
                        label: 'xgei-1/13/0/1'
                    }, {
                        value: 'xgei-1/13/0/2',
                        label: 'xgei-1/13/0/2'
                    }, {
                        value: 'xgei-1/13/0/3',
                        label: 'xgei-1/13/0/3'
                    }, {
                        value: 'xgei-1/13/0/4',
                        label: 'xgei-1/13/0/4'
                    }, {
                        value: 'xgei-1/13/0/5',
                        label: 'xgei-1/13/0/5'
                    }, {
                        value: 'xgei-1/13/0/6',
                        label: 'xgei-1/13/0/6'
                    }, {
                        value: 'xgei-1/13/0/7',
                        label: 'xgei-1/13/0/7'
                    }, {
                        value: 'xgei-1/13/0/8',
                        label: 'xgei-1/13/0/8'
                    }, {
                        value: 'xgei-1/13/0/9',
                        label: 'xgei-1/13/0/9'
                    }, {
                        value: 'xgei-1/13/0/10',
                        label: 'xgei-1/13/0/10'
                    }, {
                        value: 'xgei-1/13/0/11',
                        label: 'xgei-1/13/0/11'
                    }, {
                        value: 'xgei-1/13/0/12',
                        label: 'xgei-1/13/0/12'
                    }]
                }]
            }, {
                value: 'lgei',
                label: '50G',
                children: [{
                    value: 2,
                    label: '2槽位',
                    children: [{
                        value: 'lgei-1/2/0/1',
                        label: 'lgei-1/2/0/1'
                    }, {
                        value: 'lgei-1/2/0/2',
                        label: 'lgei-1/2/0/2'
                    }, {
                        value: 'lgei-1/2/0/3',
                        label: 'lgei-1/2/0/3'
                    }, {
                        value: 'lgei-1/2/0/4',
                        label: 'lgei-1/2/0/4'
                    }]
                }, {
                    value: 10,
                    label: '10槽位',
                    children: [{
                        value: 'lgei-1/10/0/1',
                        label: 'lgei-1/10/0/1'
                    }, {
                        value: 'lgei-1/10/0/2',
                        label: 'lgei-1/10/0/2'
                    }, {
                        value: 'lgei-1/10/0/3',
                        label: 'lgei-1/10/0/3'
                    }, {
                        value: 'lgei-1/10/0/4',
                        label: 'lgei-1/10/0/4'
                    }]
                }, {
                    value: 13,
                    label: '13槽位',
                    children: [{
                        value: 'lgei-1/13/0/1',
                        label: 'lgei-1/13/0/1'
                    }, {
                        value: 'lgei-1/13/0/2',
                        label: 'lgei-1/13/0/2'
                    }, {
                        value: 'lgei-1/13/0/3',
                        label: 'lgei-1/13/0/3'
                    }, {
                        value: 'lgei-1/13/0/4',
                        label: 'lgei-1/13/0/4'
                    }]
                }, {
                    value: 23,
                    label: '23槽位',
                    children: [{
                        value: 'lgei-1/23/0/1',
                        label: 'lgei-1/23/0/1'
                    }, {
                        value: 'lgei-1/23/0/2',
                        label: 'lgei-1/23/0/2'
                    }, {
                        value: 'lgei-1/23/0/3',
                        label: 'lgei-1/23/0/3'
                    }, {
                        value: 'lgei-1/23/0/4',
                        label: 'lgei-1/23/0/4'
                    }]
                }]
            }],
            val2X: [],
            val4X: [],
            val10X: [],
            val8G: [],
            reload: [],
            slotnumber: [],
            allPort: [],
            portnum: 4,
            portnum1: 3,
            group1: 1,
            group2: 2,
            group3: 3,
            portval: [],
            radio: true,
            isReset: false,
            is50G: false,
            isaddslot: false,
            isnew: false,
            ischange: 1,
            YeWuInfo: '',
            PortType: 'xgei',
            mask: '252',
            setVlan: '100',
            row: 1
        },
        methods: {
            clearSelect(val) {
                val == 0 ? (this.reload = []) : "";
                val == 2 ? (this.val2X = []) : "";
                val == 4 ? (this.val4X = []) : "";
                val == 10 ? (this.val10X = []) : "";
                val == 8 ? (this.val8G = []) : "";
            },
            getslot(param=1) {
                let arr = [...this.val2X, ...this.val4X,...this.val10X, ...this.val8G];
                let tempArr=[this.options[1],this.options[3],this.options[5],this.options[7]]   //OIXGXA只支持2,6,8,10槽
                if (arr.length) {
                    if (param==10) {    //为OIXGXA板子
                        this.slotnumber = tempArr.filter(function (el) {
                            return !arr.includes(el.value);
                        });
                        return;
                    }
                    //为其他板子
                    this.slotnumber = this.options.filter(function (el) {
                        return !arr.includes(el.value);
                    });
                    return;
                }
                if(param==10){
                    this.slotnumber = tempArr;
                    return;
                }
                this.slotnumber = this.options;
            },
            reset() {
                this.val2X = [];
                this.val4X = [];
                this.val10X = [];
                this.val8G = [];
                this.is50G = false;
                this.isnew = false;
                this.portnum = 4;
                if (this.isReset) {
                    this.val2X = [1, 7];
                    this.val8G = [8];
                    this.isaddslot = false;
                }
                this.creat();
            },
            creat() {
                const tempArr = [...this.port2X, ...this.port4X,...this.port10X, ...this.port8G];
                if (this.is50G) {
                    this.allPort = tempArr
                } else {
                    if (this.isaddslot) {
                        this.allPort = tempArr
                    } else {
                        this.allPort = tempArr.filter(function (el) {
                            return !['xgei-1/1/0/1', 'xgei-1/7/0/1'].includes(el)
                        })
                    }
                }
            },
            selectText(element) {
                let text = document.querySelector(element);
                let selection = window.getSelection();   //返回一个  Selection 对象，表示用户选择的文本范围或光标的当前位置
                let range = document.createRange();  //创建一个范围对象
                range.selectNodeContents(text);  //text中的子节点放入range对象里
                selection.removeAllRanges();   //清除其他所有的被选中的节点
                selection.addRange(range);   //将范围中的数据选中
                document.execCommand("Copy")   //调用复制功能
                selection.removeAllRanges();  	 //清除所有选中的节点
                this.open2()
            },
            open2() {
                this.$message({
                    showClose: true,
                    message: '复制成功(*^▽^*)',
                    type: 'success',
                    duration: 1000
                });
            },
            resetYeWuInfo() {
                this.YeWuInfo = ''
                this.PortType = 'xgei'
                this.mask = '252'
                this.setVlan = '100'
                this.row = 1
            },
            changeVlan(val) {
                if (val == '90') {
                    this.YeWuInfo = this.YeWuInfo.replace(/\t100\t/ig, '\t90\t')
                } else if (val == '100') {
                    this.YeWuInfo = this.YeWuInfo.replace(/\t90\t/ig, '\t100\t')
                }
            },
            openError() {
                this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                    confirmButtonText: '确定',
                    cancelButtonText: '取消',
                    type: 'warning'
                }).then(() => {
                    this.$message({
                        type: 'success',
                        message: '删除成功!'
                    });
                }).catch(() => {
                    this.$message({
                        type: 'info',
                        message: '已取消删除'
                    });
                });
            }
        },
        created() {
            this.getslot();
        },
        computed: {
            port2X() {
                const arr = [];
                if (this.val2X) {
                    this.val2X.forEach(el => {
                        for (let i = 1; i <= 2; i++) {
                            arr.push(`xgei-1/${el}/0/${i}`);
                        }
                    });
                }
                return arr;
            },
            port4X() {
                const arr = [];
                if (this.val4X) {
                    this.val4X.forEach(el => {
                        for (let i = 1; i <= 4; i++) {
                            arr.push(`xgei-1/${el}/0/${i}`);
                        }
                    });
                }
                return arr;
            },
            port10X() {
                const arr = [];
                if (this.val10X) {
                    this.val10X.forEach(el => {
                        for (let i = 1; i <= 10; i++) {
                            arr.push(`xgei-1/${el}/0/${i}`);
                        }
                    });
                }
                return arr;
            },
            port8G() {
                const arr = [];
                if (this.val8G) {
                    this.val8G.forEach(el => {
                        for (let i = 1; i <= 8; i++) {
                            arr.push(`gei-1/${el}/0/${i}`);
                        }
                    });
                }
                return arr;
            },
            WangYuan() {
                // 输入的是IPv4地址
                if (this.YeWuInfo && /^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(this.YeWuInfo.trim())) {
                    if (this.YeWuInfo.includes('\n')) {
                        this.YeWuInfo = this.YeWuInfo.split('\n').filter(el => Boolean(el))[0]
                    }
                    const obj = {}
                    let Arr = this.YeWuInfo.split(".").map(el => el * 1)
                    if (Arr[1] == 150 || Arr[1] == 154 || Arr[1] == 147 || Arr[1] == 85 || Arr[1] == 134 || Arr[1] == 73) {
                        switch (Arr[1]) {
                            case 154:
                                if (Arr[3] % 2 == 1) {
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(1, 1, 150)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_2 = Arr.join('.')
                                } else {
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(1, 1, 150)
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                }
                                break;
                            case 150:
                                if (Arr[3] % 2 == 1) {
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(1, 1, 154)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_1 = Arr.join('.')
                                } else {
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(1, 1, 154)
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                }
                                break;
                            case 147:
                                if (Arr[3] % 2 == 1) {
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(0, 2, 100, 85)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_2 = Arr.join('.')
                                } else {
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(0, 2, 100, 85)
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                }
                                break;
                            case 85:
                                if (Arr[3] % 2 == 1) {
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(0, 2, 10, 147)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_1 = Arr.join('.')
                                } else {
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(0, 2, 10, 147)
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                }
                                break;
                            case 134:
                                if (Arr[3] % 2 == 1) {
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(0, 2, 100, 73)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_2 = Arr.join('.')
                                } else {
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(0, 2, 100, 73)
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                }
                                break;
                            case 73:
                                if (Arr[3] % 2 == 1) {
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(0, 2, 10, 134)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_1 = Arr.join('.')
                                } else {
                                    obj.ipv4_jiZhan2 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] - 1)
                                    obj.ipv4_2 = Arr.join('.')
                                    Arr.splice(0, 2, 10, 134)
                                    obj.ipv4_1 = Arr.join('.')
                                    Arr.splice(-1, 1, Arr[3] + 1)
                                    obj.ipv4_jiZhan1 = Arr.join('.')
                                }
                                break;
                        }
                        obj.YeType = '4G'
                    } else if (Arr[1] == 178 || Arr[1] == 149 || Arr[1] == 148 || Arr[1] == 83) {
                        if (Arr[3] % 2 == 0) {
                            obj.ipv4_jiZhan1 = Arr.join('.')
                            Arr.splice(-1, 1, Arr[3] - 1)
                            obj.ipv4_1 = Arr.join('.')
                        } else {
                            obj.ipv4_1 = Arr.join('.')
                            Arr.splice(-1, 1, Arr[3] + 1)
                            obj.ipv4_jiZhan1 = Arr.join('.')
                        }

                        if (Arr[1] == 178 || Arr[1] == 149 || Arr[1] == 148) {
                            obj.YeType = '5G'
                        } else {
                            obj.YeType = '2G'
                        }
                    }
                    return obj.YeType ? [obj] : null
                    // 输入的是调单信息
                } else if (this.YeWuInfo && this.YeWuInfo.split("\t").length >= 10) {
                    this.row = 4
                    let YeWuArr = []
                    let DiaoDanArr = this.YeWuInfo.split("\n").filter(el => Boolean(el))
                    DiaoDanArr.forEach(el => {
                        if (el.split("\t").length > 8) {
                            const obj = {}
                            let Arr = el.split("\t").map(v => v.trim())
                            obj.port = Arr[5].replace(/(.*)IU(.*)-/ig, "$1-1/$2/0/")
                            switch (Arr[7]) {
                                case '100':
                                    obj.vlan1 = 100
                                    obj.ipv4_1 = Arr[9]
                                    obj.ipv4_jiZhan1 = Arr[8]
                                    obj.ipv6 = Arr[11]
                                    obj.YeType = '5G'
                                    break;
                                case '90':
                                    this.setVlan = '90'
                                    obj.vlan1 = 90
                                    obj.ipv4_1 = Arr[9]
                                    obj.ipv4_jiZhan1 = Arr[8]
                                    obj.ipv6 = Arr[11]
                                    obj.YeType = '5G'
                                    break;
                                case '102':
                                    obj.vlan1 = 102
                                    if (/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(Arr[10])) {
                                        obj.ipv4_1 = Arr[10]
                                        this.mask = '248'
                                    } else {
                                        obj.ipv4_1 = Arr[9]
                                    }
                                    obj.ipv4_jiZhan1 = Arr[8]
                                    obj.YeType = '2G'
                                    break;
                                default:
                                    obj.vlan1 = 101
                                    obj.ipv4_1 = Arr[9]
                                    obj.vlan2 = 1001
                                    obj.ipv4_2 = Arr[12]
                                    obj.ipv4_jiZhan1 = Arr[8]
                                    obj.ipv4_jiZhan2 = Arr[11]
                                    obj.YeType = '4G'
                            }
                            YeWuArr.push(obj)
                        }
                    });
                    return YeWuArr.length > 0 ? YeWuArr : null
                } else {
                    return null
                }
            }
        },
        filters: {
            show_port: function (str) {
                const arr = str.split("/");
                return `${arr[1]}/${arr[3]}`;
            }
        },

        watch: {
            is50G(nv) {
                if (nv) {
                    this.isaddslot = false
                } else {
                    this.group1 = 1
                    this.group2 = 2
                    this.isnew = false
                }
            },
            isaddslot(nv) {
                if (nv) {
                    this.is50G = false
                    this.isReset = false
                } else {
                    this.portnum = 4
                }
            }
        }
    })
</script>

</html>